<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>

<h:body>
	<p:messages id="messages" closable="true">
		<p:autoUpdate />
	</p:messages>
	<p:growl id="messagem" showDetail="true"></p:growl>

	<h:form id="form">
		<p:panel id="panelPessoa" header="Cadastrar Usuário"
			style="margin-bottom:20px">
			<h:panelGrid columns="2">

				<h:outputLabel value="Nome *" for="nome" />
				<p:inputText id="nome" required="true"
					value="#{admBean.usuario.nome}"
					requiredMessage="* Insira um nome."
					validatorMessage="Nome não pode ter mais de 100 letras.">
					<f:validateLength maximum="100" />
					<p:clientValidator event="keyup" />
				</p:inputText>

				<h:outputLabel value="email *" for="email" />
				<p:inputText id="email" value="#{admBean.usuario.email}"
					required="true" requiredMessage="* Insira um email."
					validatorMessage="Formato de email incorreto.">
					<!-- Validar email sem precisar solicitar ao servidor. -->
					<f:validateRegex
						pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
				</p:inputText>

				<h:outputLabel value="Senha: *" />
				<p:password id="pwd1" value="#{admBean.usuario.senha}"
					match="pwd2" label="Password 1" redisplay="true"
					requiredMessage="* Insira uma senha." required="true"
					validatorMessage="* Senhas não coincidem." />
				<h:outputLabel value="Confirme senha: *" />
				<p:password id="pwd2" value="#{admBean.usuario.senha}"
					label="Password 2" redisplay="true" />
				<p:outputLabel value="Área Profissional: " />
				<p:selectOneMenu id="areaProf"
					value="#{admBean.usuario.areaProfissional}"
					required="true"
					requiredMessage="* Selecione uma área profissional.">
					<f:selectItem itemLabel="Selecione um" itemValue="" />
					<f:selectItems value="#{selectOneMenu.areaProfissional}" />
				</p:selectOneMenu>

				<h:outputLabel value="* Campo obrigatório. " style="color: red" />
			</h:panelGrid>

		</p:panel>
		<h:outputLabel value="#{admBean.mensagem}" style="color: red" />
		<p></p>
		<p:panel id="panelTelefones" header="Adicionar telefones"
			style="margin-bottom:20px">
			<p:column colspan="4">
				<p:panelGrid columns="1" style="margin-bottom:20px" cellpadding="10">
					<h:panelGrid columns="2" style="margin-bottom:20px">
						<h:outputLabel value="DDD " />
						<p:selectOneMenu value="#{admBean.telefone.ddd}">
							<f:selectItem itemLabel="DDD" itemValue="" />
							<f:selectItems value="#{selectOneMenu.ddd}" />
						</p:selectOneMenu>
						<h:outputLabel value="Numero" />
						<p:inputMask value="#{admBean.telefone.numero}"
							mask="99999999?9" />
						<h:outputLabel value="Tipo " />
						<p:selectOneRadio id="tipo" value="#{admBean.telefone.tipo}"
							unselectable="true">
							<f:selectItem itemLabel="Celular" itemValue="Celular" />
							<f:selectItem itemLabel="Residencial" itemValue="Residencial" />
							<f:selectItem itemLabel="Fax" itemValue="Fax" />
						</p:selectOneRadio>
						<p:commandButton value="Inserir telefone"
							update="listaTelefones,panelTelefones"
							actionListener="#{admBean.inserirTelefones}" />
					</h:panelGrid>
				</p:panelGrid>
				<p:dataTable id="listaTelefones" var="telefone"
					value="#{admBean.usuario.telefones}">
					<p:column headerText="DDD">
						<h:outputText value="#{telefone.ddd}" style="width: 20%" />
					</p:column>
					<p:column headerText="Numero" style="width: 40%">
						<h:outputText value="#{telefone.numero}" />
					</p:column>
					<p:column headerText="Tipo" style="width: 40%">
						<h:outputText value="#{telefone.tipo}" />
					</p:column>
				</p:dataTable>
			</p:column>
			<p:outputLabel
				value="Você poderá adicionar seus telefones mais tarde, é só editar! "
				style="color: red" />

		</p:panel>
		<p:commandButton value="OK" update="@form"
			actionListener="#{admBean.novoUsuario}">
			<p:confirm header="Cadastro" message="Os dados esta corretos ?"></p:confirm>

		</p:commandButton>

		<p:confirmDialog global="true">
			<h:panelGrid columns="2" width="100%" style="text-align:center">
				<p:commandButton value="Sim" styleClass="ui-confirmdialog-yes"
					icon="ui-icon-check" style="color:green" />
				<p:commandButton value="Não" styleClass="ui-confirmdialog-no"
					icon="ui-icon-close" style="color:red" />
			</h:panelGrid>

		</p:confirmDialog>

		<p:commandButton value="Voltar" update="@form"
			actionListener="#{admBean.abrirPesquisarUsuario}"
			immediate="true" style="margin-left:20px" />
	</h:form>
</h:body>
</html>